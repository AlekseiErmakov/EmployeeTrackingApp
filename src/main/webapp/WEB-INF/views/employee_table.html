<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/styles/style.css}">
</head>
<body>
    <div class="container">
        <!--/*@thymesVar id="employeeTableDto" type="com.tracking.dto.EmployeeTableDto"*/-->
        <form th:action="@{/table/save/employee(id=${employeeTableDto.employeeId},month=${employeeTableDto.monthNum})}" th:object="${employeeTableDto}" method="post">
            <h1 class="mt-5 mb-4 text-center">Табель учета рабочего врени сотрудника.</h1>
            <h1 class="mt-5 mb-4 text-center" th:text="${employeeTableDto.employeeFullName}"></h1>
            <h1 class="mt-5 mb-4 text-center" th:text="${employeeTableDto.getMonthTitle()}"></h1>
            <div class="calendar mb-4">
                <div class="calendar-header">
                    <div>ПН</div>
                    <div>ВТ</div>
                    <div>СР</div>
                    <div>ЧТ</div>
                    <div>ПТ</div>
                    <div>СБ</div>
                    <div>ВС</div>
                </div>
                <div class="calendar-body">
                    <div class="calendar-item" th:each="emptyCell : ${employeeTableDto.emptyCells}"></div>
                    <div class="calendar-item" th:each="status,iStat : ${employeeTableDto.statusList}">
                        <label th:for="${iStat.index}" class="calendar-date" th:utext="${iStat.count + employeeTableDto.monthTable}"></label>
                        <select th:id="${iStat.index}" class="form-control"  th:field="${employeeTableDto.statusList[__${iStat.index}__]}">
                            <option value="" th:selected="${employeeTableDto.statusList[__${iStat.index}__] == null}"> --</option>
                            <!--/*@thymesVar id="codes" type="com.tracking.model.tabel.Code"*/-->
                            <option th:each="code : ${codes}"
                                    th:value="${code.id}"
                                    th:utext="${code.status}">
                            </option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="text-right mb-4">
                <button class="btn btn-primary" type="submit">Сохранить</button>
                <a th:href="@{/table/dep(id=${employeeTableDto.departmentId},month=${employeeTableDto.monthNum})}" type="button" class="btn btn-outline-primary">Отмена</a>
            </div>
        </form>
    </div>
</body>
</html>
